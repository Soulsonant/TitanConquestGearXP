<html>
  <head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  function myCalc(){
  var total_exp = parseFloat($('#texp').val().replace(/,/g,""));
  var additional = parseFloat($('#add').val().replace(/,/g,""));
  var gear_exp = parseFloat($('#gxp').val().replace(/,/g,""));
  var daily_transfuses = parseFloat($('#dtf').val());
  var crazy_tapper_check = document.getElementbyID("ct").checked;
  
  var cost_rate = 0.01;
  var gain_rate = 0.00000112511;
  var target = 2000000000.0;
  var infusions = 0;
  var current_exp = total_exp;
  var cost = 0.0;
  var gain = 0.0;
  var days = 0;
  var i;
  var crazy_tapper = 1;
  
    if(crazy_tapper_check = true) {
      crazy_tapper = 2;
    }
  
  
  while (gear_exp < target) {
    for ( i = 0; i < daily_transfuses; i++ ){
    cost = current_exp * cost_rate;
    gain = current_exp * gain_rate;
    gain = gain * crazy_tapper;
    gear_exp = gear_exp + gain;
    current_exp = current_exp - cost;
    infusions++;
    }
    current_exp = current_exp + additional;
    days++;
  }
  
  $('#rsxp').val(total_exp);
  $('#radd').val(additional);
  $('#rinf').val(infusions);
  $('#rdtf').val(days);
};
  </script>
  </head>
  
<body>  
  <form>
  <label for="texp">Your Current Total EXP:</label><br>
  <input type="text" id="texp" name="texp" value="517,000,000,000"><br>
  <label for="add">Daily XP Gain: (don't put 0 here, you'll crash the poor program, don't say I didn't warn you!)</label><br>
  <input type="text" id="add" name="add" value="30,000,000,000"><br>
  <label for="add">Current Gear Piece XP:</label><br>
  <input type="text" id="gxp" name="gxp" value="0"><br>
    <label for="add">Transposes Per Day:</label><br>
    <input type="text" id="dtf" name="dtf" value="1"><br>
    <input type="checkbox" id="ct" name="ct">
    <label for="add">Crazy Tapper?</label><br>
  
  <br>
</form>

<button type="button" onclick="myCalc()">
Run Calc
</button>

<form>
<label>RESULTS:</label><br />
<label>It will take</label>
  <input type="text" id="rdtf" name="rdtf" value="">
  <label> days and</label>
<input type="text" id="rinf" name="rinf" value="">
  <label> transfuses to reach Onyx Tier.</label>
</form>
  
  </body>
  <br>
  <br>
  <br>
  <br>
  <br>
  <footer>Special thanks to <a href="https://github.com/olinger">Air</a> and <a href="https://github.com/drakythe">Drakythe</a> for helping me with some of the maths and javascript!</footer>
</html>
